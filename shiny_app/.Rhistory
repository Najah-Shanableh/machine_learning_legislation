cong = c(104,105,106,107,108,109,110,111)
top5 <-  data.frame(c(1,2,3,4,5))
top51 <- data.frame(c(1,2,3,4,5))
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
print(col)
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <-rep("NA",5)
}
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <-rep("NA",5)
}
}
if(c != 104){
top5<-rbind(top5,top51)
}
}}
rel_cols <- colnames(cong104)[3:12]
cong = c(104,105,106,107,108,109,110,111)
top5 <-  data.frame(c(1,2,3,4,5))
top51 <- data.frame(c(1,2,3,4,5))
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
print(col)
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <-rep("NA",5)
}
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <-rep("NA",5)
}
}
if(c != 104){
colnames(top5)
colnames(top51)
top5<-rbind(top5,top51)
}
}}
rel_cols <- colnames(cong104)[3:12]
cong = c(104,105,106,107,108,109,110,111)
top5 <-  data.frame(c(1,2,3,4,5))
top51 <- data.frame(c(1,2,3,4,5))
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
print(col)
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <-rep("NA",5)
}
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <-rep("NA",5)
}
}
if(c != 104){
print(colnames(top5))
print(colnames(top51))
top5<-rbind(top5,top51)
}
}}
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <-rep("NA",5)
}
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <-rep("NA",5)
}
}
if(c != 104){
print(colnames(top5))
print(colnames(top51))
top5<-rbind(top5,top51)
}
}}
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <-rep("NA",5)
}
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
print(col)
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <-rep("NA",5)
}
}
if(c != 104){
print(colnames(top5))
print(colnames(top51))
top5<-rbind(top5,top51)
}
}}
rel_cols <- colnames(cong104)[3:12]
cong = c(104,105,106,107,108,109,110,111)
top5 <-  data.frame(c(1,2,3,4,5))
top51 <- data.frame(c(1,2,3,4,5))
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <-rep("NA",5)
}
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
print(col)
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <-rep("NA",5)
}
}
if(c != 104){
top5<-rbind(top5,top51)
}
}}
top5
rel_cols
rel_cols <- colnames(cong104)[3:12]
cong = c(104,105,106,107,108,109,110,111)
top5 <-  data.frame(c(1,2,3,4,5))
top51 <- data.frame(c(1,2,3,4,5))
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <-rep("NA",5)
}
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
print(col)
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <-rep("NA",5)
}
}
if(c != 104){
top5<-rbind(top5,top51)
}
}}
top51
rel_cols <- colnames(cong104)[3:12]
cong = c(104,105,106,107,108,109,110,111)
top5 <-  data.frame(c(1,2,3,4,5))
top51 <- data.frame(c(1,2,3,4,5))
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <-rep("NA",5)
}
}
else{
print(col)
print(rel_cols)
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <-rep("NA",5)
}
}
if(c != 104){
top5<-rbind(top5,top51)
}
}}
data.frame(nrow=40)
as.data.frame(matrix(0, ncol = 10, nrow = 40))
top5  <- as.data.frame(matrix(0, ncol = 30, nrow = 2))
top5  <- as.data.frame(matrix(0, ncol = 10, nrow = 40))
colnames(top5) <- rel_cols
top5
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
top5[col] <- cong104I$state
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
top51[col] <- cong104I$state
}
}
if(c != 104){
top5<-rbind(top5,top51)
}
}}
rel_cols <- colnames(cong104)[3:12]
cong = c(104,105,106,107,108,109,110,111)
top5 <-  data.frame(c(1,2,3,4,5))
top51 <- data.frame(c(1,2,3,4,5))
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
top5[col] <- cong104I$state
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
top51[col] <- cong104I$state
}
}
if(c != 104){
top5<-rbind(top5,top51)
}
}
rel_cols <- colnames(cong104)[3:12]
cong = c(104,105,106,107,108,109,110,111)
top5 <-  data.frame(c(1,2,3,4,5))
top51 <- data.frame(c(1,2,3,4,5))
for(c in cong){
cong104<-shiny[shiny$congress==c,]
for(col in rel_cols){
if(c == 104){
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top5[col] <- cong104I$state
}
else{
top5[col] <- rep('NA',5)
}
}
else{
cong104I <- cong104[order(cong104[,col],decreasing=TRUE),][1:5,c('state'
,col)]
if (!('TRUE' %in% is.na(cong104I[,2]))){
top51[col] <- cong104I$state
}
else{
top51[col] <- rep('NA',5)
}
}
}
if(c != 104){
top5<-rbind(top5,top51)
}
}
top5
write.csv(top5,'earmarks_top5')
shiny
cong104$state
unique(cong104$state)
top5  <- as.data.frame(matrix(0, ncol = 10, nrow = 53))
top5  <- as.data.frame(matrix(0, ncol = 11, nrow = 53))
top[,'states']<- unique(cong104$state)
top5[,'states']<- unique(cong104$state)
top5
rel_cols
top5  <- as.data.frame(matrix(0, ncol = 11, nrow = 53))
colnames(top5) <- rel_cols
top5[,'states']<- unique(cong104$state)
top5
unique(cong104$state)
data.frame(unique(cong104$state))
shiny[shiny$state=='AK',]
shiny[shiny$state=='AK',]$Agriculture.and.Rural.Development
sum(shiny[shiny$state=='AK',]$Agriculture.and.Rural.Development)
na.omit(shiny[shiny$state=='AK',]$Agriculture.and.Rural.Development)
sum(na.omit(shiny[shiny$state=='AK',]$Agriculture.and.Rural.Development))
c(1)+3
c(1)+c(3)
total_bs <- function(col){
v = c()
for(s in unique(cong104$state)){
summation <-   sum(na.omit(shiny[shiny$state==s,col])
v <- c(v,summation)
}
return(v)
}
all <- data.frame(unique(cong104$state))
rel_cols <- colnames(cong104)[3:12]
for(c in rel_cols){
all[c] <- total_bs(c)
}
total_bs <- function(col){
v = c()
for(s in unique(cong104$state)){
summation <-   sum(na.omit(shiny[shiny$state==s,col])
v <- c(v,summation)
}
return(v)
}
total_bs <- function(col){
v = c()
for(s in unique(cong104$state)){
vru <- sum(na.omit(shiny[shiny$state==s,col])
v <- c(v,vru)
}
return(v)
}
all <- data.frame(unique(cong104$state))
rel_cols <- colnames(cong104)[3:12]
for(c in rel_cols){
all[c] <- total_bs(c)
}
totalbs <- function(col){
v = c()
for(s in unique(cong104$state)){
vru <- sum(na.omit(shiny[shiny$state==s,col])
v <- c(v,vru)
}
return(v)
}
all <- data.frame(unique(cong104$state))
rel_cols <- colnames(cong104)[3:12]
for(c in rel_cols){
all[c] <- totalbs(c)
}
c
totalbs(c)
totalbs <- function(col){
v = c()
for(s in unique(cong104$state)){
vru <- sum(na.omit(shiny[shiny$state==s,col])
v <- c(v,vru)
}
return(v)
}
totalbs <- function(col){
v = c()
for(s in unique(cong104$state)){
vru <- sum(na.omit(shiny[shiny$state==s,col])
v <- c(v,vru)
}
totalbs <- function(col){
v = c()
for(s in unique(cong104$state)){
vru <- sum(na.omit(shiny[shiny$state==s,col]))
v <- c(v,vru)
}
return(v)
}
all <- data.frame(unique(cong104$state))
rel_cols <- colnames(cong104)[3:12]
for(c in rel_cols){
all[c] <- totalbs(c)
}
all
all[order(all[,2],descending=TRUE),2]
all[order(all[,2],descending=TRUE),]
all[order(all[,2],descending=TRUE)]
all[,2]
all[order(all$Agriculture.and.Rural.Development)]
all[order(all$Agriculture.and.Rural.Development),]
all[order(all$Agriculture.and.Rural.Development,descending=TRUE),]
?order
all[order(all[,2],decreasing=TRUE),][1:5]
all[order(all[,2],decreasing=TRUE),][1:5,]
all[order(all[,3],decreasing=TRUE),][1:5,1]
all[order(all[,4],decreasing=TRUE),][1:5,1]
all[order(all[,2],decreasing=TRUE),][1:5,]
all[order(all[,2],decreasing=TRUE),][1:5,][,2]
all[order(all[,2],decreasing=TRUE),][1:5,][,1]
all[order(all[,4],decreasing=TRUE),][1:5,][,1]
rel_cols
all[order(all[,5],decreasing=TRUE),][1:5,][,1]
all[order(all[,6],decreasing=TRUE),][1:5,][,1]
all[order(all[,7],decreasing=TRUE),][1:5,][,1]
all[order(all[,8],decreasing=TRUE),][1:5,][,1]
all[order(all[,9],decreasing=TRUE),][1:5,][,1]
all[order(all[,11],decreasing=TRUE),][1:5,][,1]
setwd("~/Desktop/shiny_tutorial/")
congress_table <- read.csv("data/earmarks_top5.csv")
congress_table
new_df
new_df['vru vora'] <- 0
new_df
congress_earmarks <- read.csv("data/congress_earmarks.csv")
congress_table <- read.csv("data/earmarks_top5.csv")
colnames(congress_table)<-
c("Agriculture and Rural Development",
"Commerce, Justice, Scienc, and.Related Agencies",
"Defense and Military Affairs",	"Energy and Water Development",
"Financial Services and General Government",
"Interior and Environment",
"Labor,Health,Human Services,and Educaiton",
"Transportation, Housing, and Urban.Development",
"Total Earmarks")
congress_table
congress_earmarks <- read.csv("data/congress_earmarks.csv")
congress_table <- read.csv("data/earmarks_top5.csv")
congress_earmarks <- read.csv("data/congress_earmarks.csv")
congress_table <- read.csv("data/earmarks_top5.csv")
colnames(congress_table)<-
c("Congress","Agriculture and Rural Development",
"Commerce, Justice, Scienc, and.Related Agencies",
"Defense and Military Affairs",	"Energy and Water Development",
"Financial Services and General Government",
"Interior and Environment",
"Labor,Health,Human Services,and Educaiton",
"Transportation, Housing, and Urban.Development",
"Total Earmarks")
congress_earmarks
congress_table
runApp('shiny_tutorial/')
runApp('~/Desktop/shiny_tutorial/')
runApp('~/Desktop/shiny_tutorial/')
congress_earmarks
congress_table
runApp('~/Desktop/shiny_tutorial/')
rel_cols
runApp('~/Desktop/shiny_tutorial/')
c(2:11)
runApp('~/Desktop/shiny_tutorial/')
subset(congress_table,congress_table$Congress==table_cong)[,c(2:11)]
subset(congress_table,congress_table$Congress==104)[,c(2:11)]
subset(congress_table,congress_table$Congress==104)[,1]
subset(congress_table,congress_table$Congress==104)[,c(2,3)]
subset(congress_table,congress_table$Congress==104)[,c(2:10)]
subset(congress_table,congress_table$Congress==104)[,c(2:10)]
runApp('~/Desktop/shiny_tutorial/')
runApp('~/Desktop/shiny_tutorial/')
runApp('~/Desktop/shiny_tutorial/')
